<div *ngIf="loading">
    <button class="button is-primary is-large is-loading"></button>
</div>

<div class="columns is-mobile is-multiline" *ngIf="!loading">
    <div class="column is-one-third-desktop is-half-tablet is-full-mobile">
        <div class="control">
            <label class="label">Tytuł:</label>
            <input [(ngModel)]="movieFilterArgs.title" class="input" type="text" placeholder="Tytuł filmu...">
        </div>
    </div>
    <div class="column is-one-third-desktop is-half-tablet is-full-mobile">
        <label class="label">Gatunek wg Filmweb:</label>
        <div class="select">
            <select [(ngModel)]="movieFilterArgs.filmwebFilmType">
                <option *ngFor="let type of filmwebTypes; let i = index" [value]="filmwebTypes[i]">{{type}}</option>
                <option [value]="">Wszystkie</option>
            </select>
        </div>
    </div>

    <div class="column is-one-third-desktop is-half-tablet is-full-mobile">
        <label class="label">Dostawca vod:</label>
        <div class="select">
            <select [(ngModel)]="movieFilterArgs.providerName">
                <option *ngFor="let providerName of providerNames; let i = index" [value]="providerNames[i]">{{providerName}}</option>
                <option [value]="">Wszystkie</option>
            </select>
        </div>
    </div>
</div>

<div class="columns is-gapless is-multiline is-mobile" *ngIf="!loading">
    <div *ngFor="let item of results | movieFilter:movieFilterArgs"
        class="column is-one-third-desktop is-half-tablet is-full-mobile">
        <!-- <app-movie [item]=item></app-movie> -->

        <div class="tile is-parent">
            <article class="tile is-child notification is-dark is-mobile">
                <p class="title">{{item.title}} ({{item.year}})</p>
                <p class="subtitle">Ocena: {{item.filmwebRating}} (z {{item.filmwebRatingCount}} ocen)</p>
                <p class="subtitle">Kolekcja: {{item.providerName}}</p>
                <p class="subtitle">Gatunek wg Filmweb: {{item.filmwebFilmType}}</p>
                <figure *ngIf="!item.imageUrl" class="image is-3by4">
                    <img src="https://bulma.io/images/placeholders/640x480.png">
                </figure>

                <figure *ngIf="item.imageUrl" class="image is-4by3 is-mobile">
                    <img src="{{item.imageUrl}}">
                </figure>
            </article>
        </div>
    </div>
</div>